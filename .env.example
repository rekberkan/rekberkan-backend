# Application
APP_NAME="Rekberkan"
APP_ENV=local
APP_KEY=
APP_DEBUG=true
APP_URL=http://localhost

# Database
DB_CONNECTION=pgsql
DB_HOST=127.0.0.1
DB_PORT=5432
DB_DATABASE=rekberkan
DB_USERNAME=postgres
DB_PASSWORD=

# Cache & Session
CACHE_DRIVER=redis
SESSION_DRIVER=redis
QUEUE_CONNECTION=redis

REDIS_HOST=127.0.0.1
REDIS_PASSWORD=null
REDIS_PORT=6379

# Mail
MAIL_MAILER=smtp
MAIL_HOST=mailhog
MAIL_PORT=1025
MAIL_USERNAME=null
MAIL_PASSWORD=null
MAIL_ENCRYPTION=null
MAIL_FROM_ADDRESS="hello@rekberkan.com"
MAIL_FROM_NAME="${APP_NAME}"

# ===================================
# PAYMENT GATEWAY CONFIGURATION
# ===================================

# Default Payment Gateway
PAYMENT_GATEWAY=xendit

# Xendit (NEW - P0 Security Fix)
XENDIT_API_KEY=your-xendit-api-key
XENDIT_PUBLIC_KEY=your-xendit-public-key
XENDIT_WEBHOOK_SECRET=your-xendit-webhook-secret
XENDIT_CALLBACK_URL=https://your-domain.com/api/webhooks/xendit/deposit
XENDIT_VERIFY_IP=true  # Set false for development

# Midtrans
MIDTRANS_MERCHANT_ID=
MIDTRANS_CLIENT_KEY=
MIDTRANS_SERVER_KEY=
MIDTRANS_IS_PRODUCTION=false
MIDTRANS_IS_SANITIZED=true
MIDTRANS_IS_3DS=true

# ===================================
# TRANSACTION LIMITS
# ===================================

# Deposit Limits (IDR)
DEPOSIT_MIN_AMOUNT=10000
DEPOSIT_MAX_AMOUNT=100000000

# Withdrawal Limits (IDR)
WITHDRAWAL_MIN_AMOUNT=10000
WITHDRAWAL_MAX_AMOUNT=100000000

# ===================================
# GEOIP CONFIGURATION (NEW - P0 Fix)
# ===================================

# GeoIP Service (ipapi.co, maxmind, ip2location)
GEOIP_SERVICE=ipapi
GEOIP_API_KEY=  # Optional for free tier

# ===================================
# RISK ENGINE CONFIGURATION (NEW - P2)
# ===================================

# Risk Thresholds (0-100)
RISK_THRESHOLD_LOW=30
RISK_THRESHOLD_MEDIUM=50
RISK_THRESHOLD_HIGH=70
RISK_THRESHOLD_CRITICAL=90

# Auto Actions
RISK_AUTO_BLOCK_THRESHOLD=90
RISK_MANUAL_REVIEW_THRESHOLD=70

# Transaction Limits
RISK_MAX_TRANSACTION_AMOUNT=100000000

# Velocity Checks
RISK_VELOCITY_ENABLED=true
RISK_MAX_DAILY_TRANSACTIONS=10
RISK_MAX_DAILY_VOLUME=50000000

# Geo Restrictions
RISK_GEO_ENABLED=false
RISK_BLOCKED_COUNTRIES=  # Comma-separated: KP,IR,SY

# ===================================
# SECURITY CONFIGURATION (NEW - P1)
# ===================================

# CSP Mode (production uses strict CSP)
CSP_MODE=development  # development or production

# Rate Limiting
RATE_LIMIT_DEPOSIT=10  # per hour
RATE_LIMIT_WITHDRAWAL=5  # per hour
RATE_LIMIT_ESCROW=20  # per hour

# ===================================
# MEMBERSHIP CONFIGURATION (NEW - P3)
# ===================================

# Membership Pricing (IDR/month)
MEMBERSHIP_BRONZE_PRICE=50000
MEMBERSHIP_SILVER_PRICE=150000
MEMBERSHIP_GOLD_PRICE=300000
MEMBERSHIP_PLATINUM_PRICE=500000

# Auto-renewal settings
MEMBERSHIP_AUTO_RENEW_ENABLED=true
MEMBERSHIP_RENEWAL_REMINDER_DAYS=7

# ===================================
# BLOCKCHAIN CONFIGURATION
# ===================================

BLOCKCHAIN_NETWORK=testnet  # mainnet or testnet
BLOCKCHAIN_RPC_URL=
BLOCKCHAIN_CONTRACT_ADDRESS=

# ===================================
# LOGGING & MONITORING
# ===================================

LOG_CHANNEL=stack
LOG_LEVEL=debug

# Sentry (Optional)
SENTRY_LARAVEL_DSN=
SENTRY_TRACES_SAMPLE_RATE=1.0

# ===================================
# FEATURE FLAGS
# ===================================

FEATURE_REGISTRATION_ENABLED=true
FEATURE_KYC_REQUIRED=true
FEATURE_MAINTENANCE_MODE=false
